group 'com.example.flutter_st_ble_sensor'
version '1.0-SNAPSHOT'

buildscript {
    ext {
        androidx_appCompatVersion = '1.1.0'
        androidx_fragmentVersion = '1.2.5'
        androidx_supportLegacy = '1.0.0'
        androidx_gridLayout = '1.0.0'
        androidx_materialVersion = '1.1.0'
        androidx_constraintLayoutVersion = '1.1.3'
        androidx_recycleViewVersion = '1.1.0'
        androidx_cardViewVersion = '1.0.0'
        androidx_lifecycleExtVersion = '2.2.0'
        androidx_lifecycleSaveStateVersion = '2.2.0'
        androidx_roomVersion = "2.2.5"
        androidx_annotationVersion = "1.1.0"
        androidx_localBroadcastVersion = "1.0.0"
        androidx_preferenceVersion = "1.1.1"
        androidx_swipeRefreshLayoutVersion = "1.0.0"

        gsonVersion = '2.8.6'

        // Test dependency
        androidx_runnerVersion = '1.2.0'
        androidx_rulesVersion = '1.2.0'
        androidx_espressoVersion = '3.2.0'
        mockitoVersion = '1.9.5'

        junitVersion = '4.13'
    }


    ext.kotlin_version = '1.7.10'
    repositories {
        google()
        mavenCentral()
    }

    dependencies {
        classpath 'com.android.tools.build:gradle:7.2.0'
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
    }
}

rootProject.allprojects {
    repositories {
        google()
        mavenCentral()
        flatDir {
            dirs project(':flutter_st_ble_sensor').file('libs')
        }
    }
}

apply plugin: 'com.android.library'
apply plugin: 'kotlin-android'

android {
    compileSdkVersion 31

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }

    kotlinOptions {
        jvmTarget = '1.8'
    }

    sourceSets {
        main.java.srcDirs += 'src/main/kotlin'
    }

    defaultConfig {
        minSdkVersion 16
    }
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version"

    implementation (name:'BlueSTSDK-release', ext:'aar')
    implementation (name:'BlueSTSDK_Gui_Android-release', ext:'aar')

    /* ---BlueSTSDK--- */
    implementation group: 'com.google.android.material', name: 'material', version: "${rootProject.androidx_materialVersion ?: androidx_materialVersion}"
    implementation group: 'androidx.appcompat', name: 'appcompat', version: "${rootProject.androidx_appCompatVersion ?: androidx_appCompatVersion}"
    implementation group: 'androidx.annotation', name:'annotation',version: "${rootProject.androidx_annotationVersion ?: androidx_annotationVersion}"

    implementation group: 'com.google.code.gson', name: 'gson', version: "${rootProject.gsonVersion ?: gsonVersion}"

    testImplementation "junit:junit:${rootProject.junitVersion ?: junitVersion}"
    testImplementation "org.mockito:mockito-core:${rootProject.mockitoVersion ?: mockitoVersion}"
    testImplementation "org.robolectric:robolectric:3.8"


    /* ---BlueSTSDK_Gui_Android--- */
    implementation group: 'androidx.annotation', name:'annotation',version: "${rootProject.androidx_annotationVersion ?: androidx_annotationVersion}"
    implementation group: 'androidx.appcompat', name: 'appcompat', version: "${rootProject.androidx_appCompatVersion ?: androidx_appCompatVersion}"
    implementation group: 'com.google.android.material', name: 'material', version: "${rootProject.androidx_materialVersion ?: androidx_materialVersion}"

    implementation group: 'androidx.recyclerview', name:'recyclerview', version:"${rootProject.androidx_recycleViewVersion ?: androidx_recycleViewVersion}"
    implementation group: 'androidx.cardview', name: 'cardview', version: "${rootProject.androidx_cardViewVersion ?: androidx_cardViewVersion}"
    implementation group: 'androidx.constraintlayout', name: 'constraintlayout', version: "${rootProject.androidx_constraintLayoutVersion ?: androidx_constraintLayoutVersion}"
    implementation group: 'androidx.lifecycle', name: 'lifecycle-extensions', version: "${rootProject.androidx_lifecycleExtVersion ?: androidx_lifecycleExtVersion}"
    implementation group: 'androidx.localbroadcastmanager', name: 'localbroadcastmanager', version: "${rootProject.androidx_localBroadcastVersion ?: androidx_localBroadcastVersion}"
    implementation group: 'androidx.swiperefreshlayout', name: 'swiperefreshlayout', version: "${rootProject.androidx_swipeRefreshLayoutVersion ?: androidx_swipeRefreshLayoutVersion}"


    testImplementation "junit:junit:${rootProject.junitVersion ?: junitVersion}"
    testImplementation "org.mockito:mockito-core:${rootProject.mockitoVersion ?: mockitoVersion}"

    androidTestImplementation "junit:junit:${rootProject.junitVersion ?: junitVersion}"
    androidTestImplementation "org.mockito:mockito-core:${rootProject.mockitoVersion ?: mockitoVersion}"
    androidTestImplementation group:'androidx.test', name:'runner', version:"${rootProject.androidx_runnerVersion ?: androidx_runnerVersion}"
    androidTestImplementation group:'androidx.test', name:'rules', version:"${rootProject.androidx_rulesVersion ?: androidx_rulesVersion}"
    androidTestImplementation group:'androidx.test.espresso', name: 'espresso-core', version:"${rootProject.androidx_espressoVersion ?: androidx_espressoVersion}"
}